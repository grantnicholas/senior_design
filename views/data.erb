<div>  
  <script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['table']}]}"></script>
  <script type="text/javascript">
      google.setOnLoadCallback(drawTable);

      function drawTable() {
        var data = new google.visualization.DataTable();

        var cols = <%= @table.columns.to_json %>;
        for(var i=0; i<cols.length; i++){
        	data.addColumn(cols[i][0], cols[i][1]);
        }

        data.addRows( <%= @table.rows.to_json %> );

        var table = new google.visualization.Table(document.getElementById(<%= @table.id.to_json %>));

        var boo = <%= @table.show_num.to_json %>; 
        var bool = (true === boo); 
        table.draw(data, {showRowNumber: bool } ) ;
      }

  </script>

   <script type="text/javascript">
	google.load("visualization", "1", {packages:["corechart"]});
	google.setOnLoadCallback(drawChart);

	function drawChart() {

	  var data = new google.visualization.DataTable();
	  var cols = <%= @time_table.columns.to_json %>;
	  for(var i=0; i<cols.length; i++){
	  	data.addColumn(cols[i][0], cols[i][1]);
	  }
	  data.addRows( <%= @time_table.rows.to_json %> );

	  var options = <%= @time_table.options.to_json %>;
	  var chart = new google.visualization.ColumnChart(document.getElementById(<%= @time_table.id.to_json %>));

	  chart.draw(data, options);
	}
    </script>

    <script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawBar);

    function drawBar(){
      var data = new google.visualization.DataTable();
	  var cols = <%= @count_table.columns.to_json %>;
	  for(var i=0; i<cols.length; i++){
	  	data.addColumn(cols[i][0], cols[i][1]);
	  }
	  data.addRows( <%= @count_table.rows.to_json %> );

	  var options = <%= @count_table.options.to_json %>;
	  var chart = new google.visualization.ColumnChart(document.getElementById(<%= @count_table.id.to_json %>));

	  chart.draw(data, options);

    }
    </script>

</div>

<section class="display">
	<div class="row">
		<div class="small-centered large-centered">
			<h1><%= @machine %></h1>
		</div>
	</div>

</section>

<section>


	<div class="row">
		<button href="#" data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="button dropdown small-centered large-centered">Choose a machine</button><br>
		<ul id="drop1" data-dropdown-content class="f-dropdown" aria-hidden="true" tabindex="-1">
			<% @dropdown.each do |op| %>
			<li><a href=<%= '/machines/'+op.category.downcase %> > <%= op.category %> </a></li>
			<% end %>
		</ul>
	</div>




	<div class="row">
       <div id="table_div"></div>
    </div>
    <div class="row">
    	<div id="chart_div"></div>
    </div>
    <div class="row">
    	<div id="count_bar"></div>
    </div>
    <div class="row">
    	<div id="time_bar"></div>
    </div>

    <% if @images %>
	<div class="row">
		<ul class="small-block-grid-1 large-block-grid-2">
			<% @images.each do |img| %>
			<li class="tint img-block"><img class="highlight-it" src= <%= img %> class="small-centered large-centered highlight-it"> </img></li>
			<% end %>
		</ul>
	</div>
	<% end %>



</section>